knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(dplyr)
library(haven)
my_data<-read_dta("C:/Users/Ken/Documents/Github/HP-ARE213-Psets/Pset 1/R/PSet1_R.Rmd")
my_data<-read_dta("C:/Users/Ken/Documents/Github/HP-ARE213-Psets/Pset 1/pset1.dta")
View(my_data)
#For variables that can take on 8 and 9
cleanset1<-"cardiac, lung, diabetes, herpes, hydra, hemo, chyper, phyper, eclamp, incervix, pre4000, preterm"
my_data <- my_data %>%
mutate(across(all_of(cleanset1), ~ifelse(. %in% c(8, 9), NA, .)))
#For variables that can take on 8 and 9
cleanset1 <- c("cardiac", "lung", "diabetes", "herpes", "hydra", "hemo", "chyper", "phyper", "eclamp", "incervix", "pre4000", "preterm")
my_data <- my_data %>%
mutate(across(all_of(cleanset1), ~ifelse(. %in% c(8, 9), NA, .)))
#For variables that can take on 8 and 9
cleanset1 <- c("cardiac", "lung", "diabetes", "herpes", "chyper", "phyper", "pre4000", "preterm")
my_data <- my_data %>%
mutate(across(all_of(cleanset1), ~ifelse(. %in% c(8, 9), NA, .)))
unique(across(all_of(cleanset1))
unique(across(all_of(cleanset1)))
my_data %>%
select(all_of(cleanset1)) %>%
unique()
print(my_data %>%
select(all_of(cleanset1)) %>%
unique())
check1<-my_data %>%
select(all_of(cleanset1)) %>%
unique()
print(check1)
View(check1)
my_data%>%unique(cardiac)
unique(my_data$cardiac)
for (var in cleanset1) {
unique(my_data$var)
}
#For variables that can take on 8 and 9
cleanset1 <- c("cardiac", "lung", "diabetes", "herpes", "chyper", "phyper", "pre4000", "preterm")
my_data <- my_data %>%
mutate(across(all_of(cleanset1), ~ifelse(. %in% c(8, 9), NA, .)))
#Loop to check now:
for (var in cleanset1) {
unique(my_data$var)
}
#Loop to check now:
for (var in cleanset1) {
unique<-unique(my_data$var)
unique
}
#check cardiac
unique(my_data$cardiac)
#For variables that only take on 9 as missing
cleanset2 <- c("tobacco", "alcohol")
my_data <- my_data %>%
mutate(across(all_of(cleanset2), ~na_if(., 99)))
#check tobacco
unique(my_data$tobacco)
cleanset2 <- c("tobacco", "alcohol")
my_data <- my_data %>%
mutate(across(all_of(cleanset2), ~na_if(., 9)))
#check tobacco
unique(my_data$tobacco)
#For variables that can take on 8 and 9
cleanset1 <- c("cardiac", "lung", "diabetes", "herpes", "chyper", "phyper", "pre4000", "preterm")
my_data <- my_data %>%
mutate(across(all_of(cleanset1), ~ifelse(. %in% c(8, 9), NA, .)))
#check cardiac
unique(my_data$cardiac)
#For variables that only take on 9 as missing
cleanset2 <- c("tobacco", "alcohol")
my_data <- my_data %>%
mutate(across(all_of(cleanset2), ~na_if(., 9)))
#check tobacco
unique(my_data$tobacco)
#For drink5
my_data <- my_data %>%
mutate(drink5, ~na_if(., 5))
#For variables that can take on 8 and 9
cleanset1 <- c("cardiac", "lung", "diabetes", "herpes", "chyper", "phyper", "pre4000", "preterm")
my_data <- my_data %>%
mutate(across(all_of(cleanset1), ~ifelse(. %in% c(8, 9), NA, .)))
#check cardiac
unique(my_data$cardiac)
#For variables that only take on 9 as missing
cleanset2 <- c("tobacco", "alcohol")
my_data <- my_data %>%
mutate(across(all_of(cleanset2), ~na_if(., 9)))
#check tobacco
unique(my_data$tobacco)
#For drink5
my_data <- my_data %>%
mutate(drink5 = ifelse(drink5 == 5, NA, drink5))
#check drink5
unique(my_data$drink5)
#For wgain
my_data <- my_data %>%
mutate(wgain = ifelse(wgain == 99, NA, wgain))
#check wgain
unique(my_data$wgain)
